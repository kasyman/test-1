<!DOCTYPE html>
<html data-use-rem="750"></html>
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
  <title>奥迪</title>
  <link rel="stylesheet" href="../css/testDriveForm.css"/>
</head>
<body ontouchstart="">
  <script src="../js/rem.min.js"></script>
  <div class="logo"></div>
  <div class="logo_ad"></div>
  <!--include _arrow-->
  <div class="voice"></div>
  <div class="page testDriveForm">
    <section class="main">
      <div class="title">预约试驾</div>
      <form action="" class="form">
        <ul class="list">
          <li class="row">
            <div class="th col2"><span class="red">*</span>姓&nbsp;&nbsp;名</div>
            <div class="td col3">
              <input id="name" class="input"/>
            </div>
          </li>
          <li class="row">
            <div class="th col2"><span class="red">*</span>姓&nbsp;&nbsp;别</div>
            <div class="td col3 sex_choise">
              <label>
                <input type="radio" name="sex" value="1"/>男
              </label>
              <label>
                <input type="radio" name="sex" value="2" class="ml40"/>女
              </label>
            </div>
          </li>
          <li class="row">
            <div class="th col2"><span class="red">*</span>电&nbsp;&nbsp;话</div>
            <div class="td col3">
              <input id="telphone" class="input"/>
            </div>
          </li>
          <li class="row">
            <div class="th col2"><span class="red">*</span>省&nbsp;&nbsp;份</div>
            <div class="td col3">
              <input id="province" class="input"/>
            </div>
          </li>
          <li class="row">
            <div class="th col2"><span class="red">*</span>城&nbsp;&nbsp;市</div>
            <div class="td col3">
              <input id="city" class="input"/>
            </div>
          </li>
          <li class="row">
            <div class="th col2"><span class="red">*</span>计划购车时间</div>
            <div class="td col3">
              <input id="time" class="input"/>
            </div>
          </li>
          <li class="row">
            <div class="th col2">
              <input type="checkbox" id="clause"/>
            </div>
            <div class="td col3">
              <p class="p_style1">
                <label for="clause">我已经阅读并接受个人信息保护法律声明</label>
              </p>
              <p class="p_style2">你的个人资料有可能会提交至一汽大众奥迪厂商及授权经销商，与你进一步沟通试驾，购车等事宜</p>
            </div>
          </li>
          <li class="row">
            <div class="th col2">&nbsp;</div>
            <div class="td col3">
              <button type="button" id="submit" class="black-btn btn">提交 ></button>
            </div>
          </li>
        </ul>
      </form>
    </section>
  </div>
  <script src="../js/zepto.min.js"></script>
  <script>
    var data={}
    function checkForm(){
      var tips={
        "name":"请填写姓名",
        "sex":"请选择性别",
        "telphone":"请填写电话",
        "province":"请填写省份",
        "city":"请填写城市",
        "time":"请填写购车时间",
        "clause":"请同意个人信息保护声明"
      }
      data.name=$("#name").val();
      data.sex=$("input[name='sex']:checked").val();
      data.telphone=$("#telphone").val();
      data.province=$("#province").val();
      data.city=$("#city").val();
      data.time=$("#time").val();
      data.clause=$("#clause")[0].checked;
      for(var i in data){
        if(!data[i]){
          alert(tips[i])
          return false;
        }
      }
      return data;
    };
    $("#submit").bind("touchstart",function(){
      var data=checkForm();
      if(data){
        console.dir(data);
        $.ajax({
            type: 'POST',
            url: '/projects',
            data: { name: 'Zepto.js' },
            dataType: 'json',
            timeout: 10000,
            success: function(data){
              if(typeof data == "string"){
                data = eval('('+data+')');
              }
              if(data && data['ret']==0){
              window.location.href="thanks.html"
              }else{
                alert("提交失败")
              }
            },
            error: function(xhr, type){
              alert('提交失败')
            }
        })
      }
    })
    
    
    
    
    
    
    
    
    
    
    
    
  </script>
</body>