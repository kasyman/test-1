function indexAnima(){var n,i,e,t,a;e=document.getElementById("city"),a=document.body.clientWidth,e.width=a,e.height=a,t=e.getContext("2d"),n=new Image,n.onload=function(){i=new Image,i.onload=function(){function a(n){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var a=t.getContext("2d");a.translate(t.width/2,t.height/2),a.rotate(n*Math.PI/180),a.translate(t.width/-2,t.height/-2),a.drawImage(i,0,0,i.width,i.height,0,0,t.width,t.height);var o=a.getImageData(0,0,t.width,t.height);return a.clearRect(0,0,t.width,t.height),o}function o(){if(r.hasClass("current")){t.globalCompositeOperation="source-over";var i=a(g++);t.putImageData(i,0,0),t.globalCompositeOperation="source-in",t.drawImage(n,0,0,n.width,n.height,0,0,e.width,e.height)}requestAnimationFrame(o)}var g=0,r=$(".index");requestAnimationFrame(o)},i.src="../img/mask.png"},n.src="../img/city.jpg"}function initPage(){function n(){o=-1==o?2:o,o=3==o?0:o,e.find(".model-wrap").eq(o).addClass("show").siblings().removeClass("show"),e.find(".model-wrap").removeClass("show-con")}var i=new mo.PageSlide({target:$("#slide li")});i.on("change",function(){$("#slide li").eq(this.curPage).addClass("anima").siblings().removeClass("anima")}),$(".g_arrow,.view .btn").bind("touchstart",function(){i.next()}),$(".index").addClass("anima"),setTimeout(function(){indexAnima()},800);var e=$(".model-show-page"),t=e.find(".car_arrow_left"),a=e.find(".car_arrow_right"),o=0;t.bind("touchstart",function(){o--,n()}),a.bind("touchstart",function(){o++,n()}),e.find(".add-icon").bind("touchstart",function(){$(this).parent().hasClass("show-con")?$(this).parent().removeClass("show-con"):$(this).parent().addClass("show-con").siblings().removeClass("show-con")})}var progress=$(".loading-line"),g_loading=$("#g_loading"),progress_num=g_loading.find(".num"),loading_car=g_loading.find(".loading-car"),page_resources=["../img/mask.png","../img/shadow.png","../img/circleA.png","../img/circleB.png","../img/circleC.png","../img/city.jpg","../img/index-sbde0b052c5.png","../img/1-car.png","../img/car_list.png","../img/2-car.png","../img/3-car.png","../img/4-car.png","../img/1-man.png","../img/2-man.png","../img/3-man.png","../img/4-man.png","../img/1-sub.png","../img/2-sub.png","../img/3-sub.png","../img/4-sub.png","../img/1-wrap.png","../img/2-wrap.png","../img/3-wrap.png","../img/4-wrap.png"];setTimeout(function(){new mo.Loader(page_resources,{onLoading:function(n,i){var e=Math.ceil(100*n/i)+"%";progress_num.text(e),progress.css("width",e),loading_car.css("left",e)},onComplete:function(){setTimeout(function(){g_loading.remove(),initPage()},200)}})},3e3);var dataContainerOrientation=document.getElementById("dataContainerOrientation"),view=$(".view"),car_list=document.getElementById("car_list");window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",function(n){var i=(n.alpha,n.beta,n.gamma);if(null!=i&&view.hasClass("current")){var e=i-0+50;e=e>100?100:e,e=0>e?0:e,car_list.style.backgroundPosition=e+"% 50%"}},!1);